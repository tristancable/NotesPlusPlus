@page "/folder/{folderName}"
@using Notes__.Utilities
@inject FolderService FolderService

<h3>@folderName Folder</h3>

<!-- Display files in the selected folder -->
<div>
    <ul>
        @foreach (var file in files)
        {
            <li>@file</li>
        }
    </ul>

    <!-- Option to create new files inside the folder -->
    <input @bind="newFileName" placeholder="Enter file name" />
    <button @onclick="CreateFile">Create File</button>
</div>

@code {
    [Parameter] public string folderName { get; set; }

    private List<string> files = new();
    private string newFileName = string.Empty;

    // [Inject] private FolderService FolderService { get; set; }

    // Load files for the given folder
    protected override void OnInitialized()
    {
        files = FolderService.GetFilesInFolder(folderName);
    }

    // Create a new file inside the folder
    private void CreateFile()
    {
        if (!string.IsNullOrEmpty(newFileName))
        {
            FolderService.CreateFileInFolder(folderName, newFileName);
            files = FolderService.GetFilesInFolder(folderName); // Reload files after creating a new one
        }
    }
}
